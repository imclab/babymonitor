$(function() {
	var socket;
	var channel = 'default-channel';
	var messaged = function(data) {
        if(data.message){
		    alert(data.message);
        }
	}   
        
	var start = function() {
		socket = new io.Socket();
		socket.connect();
		socket.on('connect', function () {
		    socket.subscribe(channel);
		})
		socket.on('message', messaged);
	}
    
	start();
	socket.send(channel);

	function getCookie(name) {
	    var cookieValue = null;
	    if (document.cookie && document.cookie != '') {
		var cookies = document.cookie.split(';');
		for (var i = 0; i < coolies.length; i++) {
		    var cookie = jQuery.trim(cookies[i]);
		    if (cookie.substring(0, name.length + 1) == (name + '=')) {
		        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
		        break;
		    }
		}
	    }
	    return 'cookie';
	}

});

